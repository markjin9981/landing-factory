const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/LandingPage-nBtQ1NB8.js","assets/animation-Dic0VY_j.js","assets/vendor-B42Fopx7.js","assets/users-CY_9Ey4Q.js","assets/googleSheetService-DyQ3rmPf.js","assets/mail-DJOoREBN.js","assets/database-CYrlqG1B.js","assets/shield-D7YDBIGm.js","assets/file-text-DKj6SHwH.js","assets/x-DlUnYEcE.js","assets/clock-x5gKvWxq.js","assets/chevron-right-C1Xx15Gd.js","assets/phone-Dw2wANNp.js","assets/PolicyConfig-C94ZsJGm.js","assets/download-BcOknsb5.js","assets/user-_ejJhAF4.js","assets/calendar-pU8ALvMQ.js","assets/search-BbwJBoj3.js","assets/AdminDashboard-Cn0tjwQp.js","assets/githubService-BbP4ky2t.js","assets/refresh-cw-WoL-SGg5.js","assets/rocket-DXHClcj6.js","assets/plus-B4tdJMb9.js","assets/trending-up-DxnwJ9TE.js","assets/trash-2-C-RvL12Y.js","assets/external-link-DlgXZtIB.js","assets/message-square-ClyQU7Rr.js","assets/supabase-BnJ3Hf6T.js","assets/LandingEditor-CQxnbphm.js","assets/arrow-left-D4F430nK.js","assets/save-CYviQ8_i.js","assets/smartphone-Dyqjtibz.js","assets/monitor-CUufy5KS.js","assets/LeadStats-CGT6791g.js","assets/log-out-9t5gdlPR.js","assets/LeadStatsDetail-C4vrtHpD.js","assets/TrafficLogs-DL6Qkham.js","assets/filter-iWnRxqtp.js","assets/index-DCbL-JZ_.js","assets/xlsx-C5xT2hrF.js","assets/charts-4WWmhui6.js","assets/Settings-Dc8mGc3P.js","assets/eye-off-DswjNtim.js","assets/Login-BlcwsVgh.js","assets/PolicyManager-CBprkzbQ.js"])))=>i.map(i=>d[i]);
import{j as e}from"./animation-Dic0VY_j.js";import{a as n,r as t,N as r,R as s,B as o,b as a,d as i}from"./vendor-B42Fopx7.js";import{c}from"./supabase-BnJ3Hf6T.js";!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))n(e);new MutationObserver(e=>{for(const t of e)if("childList"===t.type)for(const e of t.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&n(e)}).observe(document,{childList:!0,subtree:!0})}function n(e){if(e.ep)return;e.ep=!0;const n=function(e){const n={};return e.integrity&&(n.integrity=e.integrity),e.referrerPolicy&&(n.referrerPolicy=e.referrerPolicy),"use-credentials"===e.crossOrigin?n.credentials="include":"anonymous"===e.crossOrigin?n.credentials="omit":n.credentials="same-origin",n}(e);fetch(e.href,n)}}();var l={},d=n;l.createRoot=d.createRoot,l.hydrateRoot=d.hydrateRoot;const u={},m=function(e,n,t){let r=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const e=document.querySelector("meta[property=csp-nonce]"),t=(null==e?void 0:e.nonce)||(null==e?void 0:e.getAttribute("nonce"));r=Promise.allSettled(n.map(e=>{if((e=function(e){return"/"+e}(e))in u)return;u[e]=!0;const n=e.endsWith(".css"),r=n?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${e}"]${r}`))return;const s=document.createElement("link");return s.rel=n?"stylesheet":"modulepreload",n||(s.as="script"),s.crossOrigin="",s.href=e,t&&s.setAttribute("nonce",t),document.head.appendChild(s),n?new Promise((n,t)=>{s.addEventListener("load",n),s.addEventListener("error",()=>t(new Error(`Unable to preload CSS for ${e}`)))}):void 0}))}function s(e){const n=new Event("vite:preloadError",{cancelable:!0});if(n.payload=e,window.dispatchEvent(n),!n.defaultPrevented)throw e}return r.then(n=>{for(const e of n||[])"rejected"===e.status&&s(e.reason);return e().catch(s)})},h=c("https://lkmiebwbewaxctcvzrcv.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImxrbWllYndiZXdheGN0Y3Z6cmN2Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3Njk4NjcwNzIsImV4cCI6MjA4NTQ0MzA3Mn0.X2I0pmFTEpQcGmF4_fycimlfU1XjYTGSSPksoEHp04o",{auth:{detectSessionInUrl:!0,flowType:"implicit",autoRefreshToken:!0,persistSession:!0,storageKey:"landing-factory-auth"}}),g="admin_auth",p="admin_session_id",f="admin_email_address",x={loginWithEmail:async(e,n)=>{var t;try{const{data:r,error:s}=await h.auth.signInWithPassword({email:e,password:n});return s?{success:!1,message:s.message}:r.session?(sessionStorage.setItem(g,"true"),sessionStorage.setItem(f,(null==(t=r.user)?void 0:t.email)||""),{success:!0}):{success:!1,message:"로그인 실패"}}catch(r){return{success:!1,message:r.message||"Unknown error"}}},loginWithGoogle:async()=>{try{const{data:e,error:n}=await h.auth.signInWithOAuth({provider:"google",options:{redirectTo:window.location.origin+"/admin/login"}});return n?{success:!1,message:n.message}:{success:!0}}catch(e){return{success:!1,message:e.message||"Unknown error"}}},loginWithGoogleToken:async e=>x.loginWithGoogle(),isAuthenticated:()=>"true"===sessionStorage.getItem(g),getUser:async()=>{const{data:{user:e}}=await h.auth.getUser();return e},getSession:async()=>{const{data:{session:e}}=await h.auth.getSession();return e},getUserEmail:()=>sessionStorage.getItem(f),validateSession:async()=>{var e;try{const{data:{session:n}}=await h.auth.getSession();return n?(sessionStorage.setItem(g,"true"),sessionStorage.setItem(f,(null==(e=n.user)?void 0:e.email)||""),!0):(x.logout(),!1)}catch(n){return!1}},getSessionId:()=>sessionStorage.getItem(p),logout:async()=>{await h.auth.signOut(),sessionStorage.removeItem(g),sessionStorage.removeItem(p),sessionStorage.removeItem(f)},onAuthStateChange:e=>h.auth.onAuthStateChange((n,t)=>{var r;t?(sessionStorage.setItem(g,"true"),sessionStorage.setItem(f,(null==(r=t.user)?void 0:r.email)||"")):(sessionStorage.removeItem(g),sessionStorage.removeItem(f)),e(n,t)}),initialize:async()=>{var e;const{data:{session:n}}=await h.auth.getSession();n&&(sessionStorage.setItem(g,"true"),sessionStorage.setItem(f,(null==(e=n.user)?void 0:e.email)||""))}};x.initialize();const j=({children:n})=>{const[s,o]=t.useState(!0),[a,i]=t.useState(!1);return t.useEffect(()=>{(async()=>{if(!x.isAuthenticated())return o(!1),void i(!1);const e=await x.validateSession();i(e),o(!1)})();const{data:{subscription:e}}=x.onAuthStateChange((e,n)=>{"SIGNED_OUT"===e?(i(!1),window.location.href="/admin/login"):"SIGNED_IN"===e&&n&&i(!0)});return()=>{null==e||e.unsubscribe()}},[]),s?e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-10 w-10 border-b-2 border-blue-600 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-500",children:"인증 확인 중..."})]})}):a||x.isAuthenticated()?e.jsx(e.Fragment,{children:n}):e.jsx(r,{to:"/admin/login",replace:!0})};
/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var y={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};
/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v=(e,n)=>{const r=t.forwardRef(({color:r="currentColor",size:s=24,strokeWidth:o=2,absoluteStrokeWidth:a,className:i="",children:c,...l},d)=>{return t.createElement("svg",{ref:d,...y,width:s,height:s,stroke:r,strokeWidth:a?24*Number(o)/Number(s):o,className:["lucide",`lucide-${u=e,u.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()}`,i].join(" "),...l},[...n.map(([e,n])=>t.createElement(e,n)),...Array.isArray(c)?c:[c]]);var u});return r.displayName=`${e}`,r},S=v("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);
/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w=t.createContext(null);function b({clientId:e,nonce:n,locale:r,onScriptLoadSuccess:o,onScriptLoadError:a,children:i}){const c=function(e={}){const{nonce:n,locale:r,onScriptLoadSuccess:s,onScriptLoadError:o}=e,[a,i]=t.useState(!1),c=t.useRef(s);c.current=s;const l=t.useRef(o);return l.current=o,t.useEffect(()=>{const e=document.createElement("script");return e.src="https://accounts.google.com/gsi/client",r&&(e.src+=`?hl=${r}`),e.async=!0,e.defer=!0,e.nonce=n,e.onload=()=>{var e;i(!0),null===(e=c.current)||void 0===e||e.call(c)},e.onerror=()=>{var e;i(!1),null===(e=l.current)||void 0===e||e.call(l)},document.body.appendChild(e),()=>{document.body.removeChild(e)}},[n]),a}({nonce:n,onScriptLoadSuccess:o,onScriptLoadError:a,locale:r}),l=t.useMemo(()=>({locale:r,clientId:e,scriptLoadedSuccessfully:c}),[e,c]);return s.createElement(w.Provider,{value:l},i)}function I({flow:e="implicit",scope:n="",onSuccess:r,onError:s,onNonOAuthError:o,overrideScope:a,state:i,...c}){const{clientId:l,scriptLoadedSuccessfully:d}=function(){const e=t.useContext(w);if(!e)throw new Error("Google OAuth components must be used within GoogleOAuthProvider");return e}(),u=t.useRef(),m=t.useRef(r);m.current=r;const h=t.useRef(s);h.current=s;const g=t.useRef(o);g.current=o,t.useEffect(()=>{var t,r;if(!d)return;const s="implicit"===e?"initTokenClient":"initCodeClient",o=null===(r=null===(t=null===window||void 0===window?void 0:window.google)||void 0===t?void 0:t.accounts)||void 0===r?void 0:r.oauth2[s]({client_id:l,scope:a?n:`openid profile email ${n}`,callback:e=>{var n,t;if(e.error)return null===(n=h.current)||void 0===n?void 0:n.call(h,e);null===(t=m.current)||void 0===t||t.call(m,e)},error_callback:e=>{var n;null===(n=g.current)||void 0===n||n.call(g,e)},state:i,...c});u.current=o},[l,d,e,n,i]);const p=t.useCallback(e=>{var n;return null===(n=u.current)||void 0===n?void 0:n.requestAccessToken(e)},[]),f=t.useCallback(()=>{var e;return null===(e=u.current)||void 0===e?void 0:e.requestCode()},[]);return"implicit"===e?p:f}const _=t.lazy(()=>m(()=>import("./LandingPage-nBtQ1NB8.js").then(e=>e.h),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17]))),E=t.lazy(()=>m(()=>import("./AdminDashboard-Cn0tjwQp.js"),__vite__mapDeps([18,1,2,3,4,19,20,10,6,8,21,22,16,23,24,25,26,27]))),k=t.lazy(()=>m(()=>import("./LandingEditor-CQxnbphm.js"),__vite__mapDeps([28,1,2,0,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,19,20,24,25,29,30,31,32,22,27]))),L=t.lazy(()=>m(()=>import("./LeadStats-CGT6791g.js"),__vite__mapDeps([33,1,2,4,9,10,25,15,12,26,29,20,34,16,6,24,27]))),A=t.lazy(()=>m(()=>import("./LeadStatsDetail-C4vrtHpD.js"),__vite__mapDeps([35,1,2,4,29,20,17,24,11,27]))),C=t.lazy(()=>m(()=>import("./TrafficLogs-DL6Qkham.js"),__vite__mapDeps([36,1,2,4,29,20,37,16,9,31,32,27]))),R=t.lazy(()=>m(()=>import("./index-DCbL-JZ_.js"),__vite__mapDeps([38,1,2,4,39,40,14,31,16,10,23,29,20,37,9,27]))),N=t.lazy(()=>m(()=>import("./Settings-Dc8mGc3P.js"),__vite__mapDeps([41,1,2,4,19,29,34,5,7,42,30,21,22,15,24,31,32,27]))),P=t.lazy(()=>m(()=>import("./Login-BlcwsVgh.js"),__vite__mapDeps([43,1,2,5,42,27]))),T=t.lazy(()=>m(()=>import("./PolicyManager-CBprkzbQ.js"),__vite__mapDeps([44,1,2,4,13,39,20,11,14,30,22,24,8,27]))),z=()=>e.jsx("div",{className:"flex justify-center items-center h-screen bg-gray-50",children:e.jsx(S,{className:"w-10 h-10 text-blue-600 animate-spin"})}),O=()=>e.jsx(b,{clientId:"175843490646-ngqarhsg4fsi664gc8bg5v42438nai87.apps.googleusercontent.com",children:e.jsx(o,{children:e.jsx(t.Suspense,{fallback:e.jsx(z,{}),children:e.jsxs(a,{children:[e.jsx(i,{path:"/",element:e.jsx(r,{to:"/admin/login",replace:!0})}),e.jsx(i,{path:"/admin/login",element:e.jsx(P,{})}),e.jsx(i,{path:"/admin",element:e.jsx(j,{children:e.jsx(E,{})})}),e.jsx(i,{path:"/admin/settings",element:e.jsx(j,{children:e.jsx(N,{})})}),e.jsx(i,{path:"/admin/editor",element:e.jsx(j,{children:e.jsx(k,{})})}),e.jsx(i,{path:"/admin/editor/:id",element:e.jsx(j,{children:e.jsx(k,{})})}),e.jsx(i,{path:"/admin/stats",element:e.jsx(j,{children:e.jsx(L,{})})}),e.jsx(i,{path:"/admin/stats/:id",element:e.jsx(j,{children:e.jsx(A,{})})}),e.jsx(i,{path:"/admin/traffic-logs",element:e.jsx(j,{children:e.jsx(C,{})})}),e.jsx(i,{path:"/admin/traffic-stats",element:e.jsx(j,{children:e.jsx(R,{})})}),e.jsx(i,{path:"/admin/policy",element:e.jsx(j,{children:e.jsx(T,{})})}),e.jsx(i,{path:"/:id",element:e.jsx(_,{})}),e.jsx(i,{path:"/:id/gallery",element:e.jsx(_,{viewMode:"gallery"})}),e.jsx(i,{path:"/:id/board",element:e.jsx(_,{viewMode:"board"})})]})})})});if("undefined"!=typeof document){const e=document.createElement("style");e.textContent="\n@keyframes pulse {\n  0%, 100% {\n    transform: scale(1);\n  }\n  50% {\n    transform: scale(1.05);\n  }\n}\n\n@keyframes heartbeat {\n  0% {\n    transform: scale(1);\n  }\n  14% {\n    transform: scale(1.1);\n  }\n  28% {\n    transform: scale(1);\n  }\n  42% {\n    transform: scale(1.1);\n  }\n  70% {\n    transform: scale(1);\n  }\n}\n\n@keyframes shimmer {\n  0% {\n    background-position: -200% center;\n  }\n  100% {\n    background-position: 200% center;\n  }\n}\n\n@keyframes bounce {\n  0%, 100% {\n    transform: translateY(0);\n  }\n  50% {\n    transform: translateY(-10px);\n  }\n}\n\n@keyframes wiggle {\n  0%, 100% {\n    transform: rotate(0deg);\n  }\n  25% {\n    transform: rotate(-3deg);\n  }\n  75% {\n    transform: rotate(3deg);\n  }\n}\n\n@keyframes glow {\n  0%, 100% {\n    box-shadow: 0 0 10px rgba(59, 130, 246, 0.5);\n  }\n  50% {\n    box-shadow: 0 0 20px rgba(59, 130, 246, 0.8), 0 0 30px rgba(59, 130, 246, 0.6);\n  }\n}\n\n@keyframes shake {\n  0%, 100% {\n    transform: translateX(0);\n  }\n  10%, 30%, 50%, 70%, 90% {\n    transform: translateX(-5px);\n  }\n  20%, 40%, 60%, 80% {\n    transform: translateX(5px);\n  }\n}\n\n.animate-pulse {\n  animation: pulse 2s ease-in-out infinite;\n}\n\n.animate-heartbeat {\n  animation: heartbeat 1.5s ease-in-out infinite;\n}\n\n.animate-shimmer {\n  background: linear-gradient(\n    90deg,\n    currentColor 0%,\n    rgba(255, 255, 255, 0.3) 50%,\n    currentColor 100%\n  );\n  background-size: 200% 100%;\n  animation: shimmer 2s linear infinite;\n}\n\n.animate-bounce {\n  animation: bounce 1s ease-in-out infinite;\n}\n\n.animate-wiggle {\n  animation: wiggle 0.5s ease-in-out infinite;\n}\n\n.animate-glow {\n  animation: glow 2s ease-in-out infinite;\n}\n\n.animate-shake {\n  animation: shake 0.5s ease-in-out infinite;\n}\n",document.head.appendChild(e)}class D extends t.Component{constructor(e){super(e),this.state={hasError:!1,error:null,errorInfo:null}}static getDerivedStateFromError(e){return{hasError:!0,error:e,errorInfo:null}}componentDidCatch(e,n){if(this.setState({errorInfo:n}),e.message.includes("Failed to fetch dynamically imported module")||e.message.includes("Importing a module script failed")){const e="reload_on_chunk_error";sessionStorage.getItem(e)?sessionStorage.removeItem(e):(sessionStorage.setItem(e,"true"),window.location.reload())}}render(){return this.state.hasError?e.jsxs("div",{style:{padding:"2rem",textAlign:"center",fontFamily:"sans-serif"},children:[e.jsx("h1",{style:{color:"#e11d48"},children:"Something went wrong."}),e.jsx("p",{style:{color:"#4b5563"},children:"Application crashed. Please check the console for details."}),this.state.error&&e.jsxs("div",{style:{marginTop:"1rem",padding:"1rem",backgroundColor:"#f3f4f6",borderRadius:"0.5rem",textAlign:"left",overflowX:"auto",maxWidth:"800px",margin:"1rem auto"},children:[e.jsx("p",{style:{fontWeight:"bold",color:"#dc2626"},children:this.state.error.toString()}),this.state.errorInfo&&e.jsx("pre",{style:{fontSize:"0.8rem",marginTop:"0.5rem"},children:this.state.errorInfo.componentStack})]}),e.jsx("button",{onClick:()=>window.location.reload(),style:{marginTop:"1rem",padding:"0.5rem 1rem",backgroundColor:"#2563eb",color:"white",border:"none",borderRadius:"0.25rem",cursor:"pointer"},children:"Reload Page"})]}):this.props.children}}const W=document.getElementById("root");if(!W)throw new Error("Could not find root element to mount to");l.createRoot(W).render(e.jsx(s.StrictMode,{children:e.jsx(D,{children:e.jsx(O,{})})}));export{S as L,m as _,x as a,v as c,h as s,I as u};
