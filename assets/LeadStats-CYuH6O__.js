const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/googleSheetService-BhIcbKS7.js","assets/index-CJRFsbXk.js","assets/animation-Dic0VY_j.js","assets/vendor-B42Fopx7.js","assets/supabase-BnJ3Hf6T.js","assets/index-_Mdt_6Dw.css"])))=>i.map(i=>d[i]);
import{c as e,L as s,_ as t}from"./index-CJRFsbXk.js";import{j as a}from"./animation-Dic0VY_j.js";import{e as r,r as l,L as n}from"./vendor-B42Fopx7.js";import{a as d,f as i,i as o}from"./googleSheetService-BhIcbKS7.js";import{X as c,C as m}from"./x-CuhZNmMR.js";import{C as x}from"./clock-DLvOXYqU.js";import{E as h}from"./external-link-TDq7AAMK.js";import{U as g}from"./user-DqCm8zC-.js";import{P as p}from"./phone-BPCUoj0e.js";import{A as u}from"./arrow-left-BcUGCUsw.js";import{R as b}from"./refresh-cw-Bca-xcbH.js";import{L as j}from"./log-out-Eq2_nYMX.js";import{D as f}from"./database-RDERTPRY.js";import{T as y}from"./trash-2-q35JB1oS.js";import"./supabase-BnJ3Hf6T.js";
/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N=e("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]),w=["landing_id","timestamp","user_agent","referrer","page_title","marketing_consent","third_party_consent","privacy_consent","type"],v=e=>{if(!e||"string"!=typeof e)return 0;const s=new Date(e).getTime();if(!isNaN(s))return s;try{const s=e.match(/\d+/g);if(!s||s.length<3)return 0;let t=parseInt(s[0],10),a=parseInt(s[1],10)-1,r=parseInt(s[2],10),l=0,n=0;return s.length>=4&&(l=parseInt(s[3],10)),s.length>=5&&(n=parseInt(s[4],10)),(e.includes("오후")||e.toLowerCase().includes("pm"))&&l<12&&(l+=12),new Date(t,a,r,l,n).getTime()}catch(t){return 0}},k=({isOpen:e,onClose:s,title:t,leads:n,landingTitles:d})=>{const i=r(),o=l.useMemo(()=>[...n].sort((e,s)=>v(s.Timestamp)-v(e.Timestamp)),[n]);return e?a.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60 backdrop-blur-sm p-4 animate-fade-in",children:a.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-3xl max-h-[85vh] flex flex-col overflow-hidden",children:[a.jsxs("div",{className:"px-6 py-5 border-b border-gray-100 flex justify-between items-center bg-gray-50/50",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-xl font-bold text-gray-900",children:t}),a.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:["총 ",n.length,"건의 데이터가 조회되었습니다."]})]}),a.jsx("button",{onClick:s,className:"p-2 hover:bg-gray-200 rounded-full transition-colors",children:a.jsx(c,{className:"w-5 h-5 text-gray-500"})})]}),a.jsx("div",{className:"overflow-y-auto flex-1 p-6 space-y-4 bg-gray-50",children:0===o.length?a.jsx("div",{className:"bg-white rounded-xl p-10 text-center border border-gray-100 shadow-sm",children:a.jsx("p",{className:"text-gray-400",children:"수집된 데이터가 없습니다."})}):o.map((e,t)=>{const r=String(e["Landing ID"]||""),l=d[r]||`ID: ${r}`,n=e.Name||e.name||e["이름"],o=e.Phone||e.phone||e["연락처"]||e["휴대폰"],c=[];Object.entries(e).forEach(([e,s])=>{const t=e.toLowerCase();w.includes(t)||["name","phone","이름","연락처","휴대폰","landing id"].includes(t)||s&&c.push(`${e}: ${s}`)});const m=e.Timestamp||"";return a.jsxs("div",{className:"bg-white rounded-xl p-5 border border-gray-100 shadow-sm hover:shadow-md transition-shadow",children:[a.jsxs("div",{className:"flex justify-between items-start mb-3",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"bg-blue-100 text-blue-700 px-2 py-1 rounded text-xs font-bold whitespace-nowrap overflow-hidden text-ellipsis max-w-[150px]",children:l}),a.jsxs("span",{className:"text-xs text-gray-400 flex items-center gap-1",children:[a.jsx(x,{className:"w-3 h-3"}),m]})]}),a.jsx("button",{onClick:()=>{s(),i(`/admin/stats/${r}`)},className:"text-gray-400 hover:text-blue-600 transition-colors",title:"해당 페이지 통계로 이동",children:a.jsx(h,{className:"w-4 h-4"})})]}),a.jsxs("div",{className:"flex flex-col gap-2",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[n&&a.jsxs("div",{className:"flex items-center gap-2 font-bold text-gray-900 text-lg",children:[a.jsx(g,{className:"w-4 h-4 text-gray-400"}),n]}),o&&a.jsxs("div",{className:"flex items-center gap-2 text-gray-700 font-medium font-mono",children:[a.jsx(p,{className:"w-4 h-4 text-gray-400"}),o]}),!n&&!o&&a.jsx("span",{className:"text-gray-500 italic",children:"식별 정보 없음"})]}),c.length>0&&a.jsxs("div",{className:"flex items-start gap-2 text-sm text-gray-600 bg-gray-50 p-3 rounded-lg mt-1",children:[a.jsx(N,{className:"w-4 h-4 text-gray-400 mt-0.5 shrink-0"}),a.jsx("p",{className:"line-clamp-2 leading-relaxed",children:c.join("  |  ")})]})]})]},t)})})]})}):null},S=["landing_id","timestamp","user_agent","referrer","page_title","marketing_consent","third_party_consent","privacy_consent","type"],C=e=>{if(!e||"string"!=typeof e)return 0;const s=new Date(e).getTime();if(!isNaN(s))return s;try{const s=e.match(/\d+/g);if(!s||s.length<3)return 0;let t=parseInt(s[0],10),a=parseInt(s[1],10)-1,r=parseInt(s[2],10),l=0,n=0;return s.length>=4&&(l=parseInt(s[3],10)),s.length>=5&&(n=parseInt(s[4],10)),(e.includes("오후")||e.toLowerCase().includes("pm"))&&l<12&&(l+=12),new Date(t,a,r,l,n).getTime()}catch(t){return 0}},_=()=>{var e;const[c,h]=l.useState([]),[g,p]=l.useState([]),[N,w]=l.useState(!0),v=r(),[_,D]=l.useState(!1),[I,L]=l.useState(""),[T,E]=l.useState([]),[O,M]=l.useState(null),[$,B]=l.useState(0),[P,z]=l.useState(!1),J="leadstats_leads_cache",A="leadstats_configs_cache",F=3e5,q=async()=>{try{const e=localStorage.getItem(J),s=localStorage.getItem(A);if(e&&s){const{data:t,timestamp:a}=JSON.parse(e),{data:r,timestamp:l}=JSON.parse(s);h(t),p(r);const n=Date.now();n-a<F&&n-l<F&&w(!1)}}catch(e){}w(!0);try{const[e,s]=await Promise.all([d(),i()]);h(e),p(s),localStorage.setItem(J,JSON.stringify({data:e,timestamp:Date.now()})),localStorage.setItem(A,JSON.stringify({data:s,timestamp:Date.now()}))}catch(s){}finally{w(!1)}};l.useEffect(()=>{q()},[]);const H=l.useMemo(()=>{const e={};return c.forEach(s=>{const t=String(s["Landing ID"]||"unknown");e[t]||(e[t]=[]),e[t].push(s)}),Object.keys(e).forEach(s=>{e[s].sort((e,s)=>C(s.Timestamp)-C(e.Timestamp))}),e},[c]),R=l.useMemo(()=>{const e=(new Date).getTime(),s=new Date;s.setHours(0,0,0,0);const t=s.getTime(),a=e-36e5,r=[],l=[];return c.forEach(e=>{const s=C(e.Timestamp);s>=t&&r.push(e),s>=a&&l.push(e)}),{todayCount:r.length,todayLeads:r,hourCount:l.length,hourLeads:l,totalCount:c.length}},[c]),V=l.useMemo(()=>{const e={};return g.forEach(s=>e[String(s.id)]=s.title),e},[g]),G=e=>{"today"===e?(L("오늘 수집된 DB"),E(R.todayLeads)):(L("최근 1시간 내 수집된 DB"),E(R.hourLeads)),D(!0)};if(N&&0===c.length)return a.jsxs("div",{className:"min-h-screen bg-gray-50 pb-20 font-sans animate-pulse",children:[a.jsxs("header",{className:"bg-white border-b border-gray-200 px-4 py-4 md:px-8 md:py-5 flex items-center justify-between sticky top-0 z-10 shadow-sm",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"w-8 h-8 bg-gray-200 rounded-full"}),a.jsx("div",{className:"h-6 w-32 bg-gray-200 rounded"})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("div",{className:"h-10 w-24 bg-gray-200 rounded-lg"}),a.jsx("div",{className:"h-10 w-24 bg-gray-200 rounded-lg"})]})]}),a.jsxs("main",{className:"max-w-7xl mx-auto p-4 md:p-8 space-y-6 md:space-y-8",children:[a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 md:gap-6",children:[1,2,3].map(e=>a.jsxs("div",{className:"bg-white rounded-xl p-5 shadow-sm",children:[a.jsx("div",{className:"h-4 w-20 bg-gray-200 rounded mb-3"}),a.jsx("div",{className:"h-8 w-16 bg-gray-200 rounded mb-2"}),a.jsx("div",{className:"h-3 w-24 bg-gray-100 rounded"})]},e))}),a.jsx("div",{className:"space-y-4",children:[1,2,3].map(e=>a.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm space-y-4",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("div",{className:"h-5 w-40 bg-gray-200 rounded"}),a.jsx("div",{className:"h-6 w-16 bg-blue-100 rounded-full"})]}),a.jsx("div",{className:"h-4 w-24 bg-gray-100 rounded"}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("div",{className:"h-4 w-full bg-gray-100 rounded"}),a.jsx("div",{className:"h-4 w-3/4 bg-gray-100 rounded"})]})]},e))}),a.jsxs("div",{className:"text-center py-4",children:[a.jsx(s,{className:"w-6 h-6 text-blue-600 animate-spin mx-auto mb-2"}),a.jsx("p",{className:"text-sm text-gray-500",children:"데이터를 불러오는 중..."})]})]})]});const K=O&&!g.find(e=>String(e.id)===O);return a.jsxs("div",{className:"min-h-screen bg-gray-50 pb-20 font-sans",children:[a.jsxs("header",{className:"bg-white border-b border-gray-200 px-4 py-4 md:px-8 md:py-5 flex flex-col md:flex-row items-center justify-between sticky top-0 z-10 shadow-sm gap-4 md:gap-0",children:[a.jsxs("div",{className:"flex items-center gap-4 w-full md:w-auto",children:[a.jsx(n,{to:"/admin",className:"p-2 hover:bg-gray-100 rounded-full",children:a.jsx(u,{className:"w-5 h-5 text-gray-600"})}),a.jsx("h1",{className:"text-lg md:text-xl font-bold",children:"DB 수집 현황"})]}),a.jsxs("div",{className:"flex gap-2 w-full md:w-auto justify-end",children:[a.jsxs("button",{onClick:q,className:"flex-1 md:flex-none justify-center items-center px-4 py-2 bg-gray-900 text-white rounded-lg hover:bg-gray-800 text-sm font-bold",children:[a.jsx(b,{className:"w-4 h-4 mr-2"})," 새로고침"]}),a.jsxs("button",{onClick:()=>{sessionStorage.removeItem("admin_auth"),v("/admin/login")},className:"flex-1 md:flex-none justify-center items-center px-4 py-2 bg-white border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 text-sm font-bold",children:[a.jsx(j,{className:"w-4 h-4 mr-2"})," 로그아웃"]})]})]}),a.jsxs("main",{className:"max-w-7xl mx-auto p-4 md:p-8 space-y-6 md:space-y-8",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 md:gap-6",children:[a.jsxs("div",{onClick:()=>G("today"),className:"bg-white p-6 rounded-xl border border-gray-200 shadow-sm flex items-center gap-5 cursor-pointer hover:border-blue-400 hover:shadow-md transition-all group",children:[a.jsx("div",{className:"p-4 bg-blue-50 text-blue-600 rounded-lg group-hover:bg-blue-600 group-hover:text-white transition-colors",children:a.jsx(m,{className:"w-8 h-8"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-500 font-bold mb-1 group-hover:text-blue-600",children:"오늘 수집된 DB"}),a.jsxs("h2",{className:"text-3xl font-bold text-gray-900",children:[R.todayCount," ",a.jsx("span",{className:"text-lg text-gray-400 font-normal",children:"건"})]})]})]}),a.jsxs("div",{onClick:()=>G("hour"),className:"bg-white p-6 rounded-xl border border-gray-200 shadow-sm flex items-center gap-5 cursor-pointer hover:border-emerald-400 hover:shadow-md transition-all group",children:[a.jsx("div",{className:"p-4 bg-emerald-50 text-emerald-600 rounded-lg group-hover:bg-emerald-600 group-hover:text-white transition-colors",children:a.jsx(x,{className:"w-8 h-8"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-500 font-bold mb-1 group-hover:text-emerald-600",children:"최근 1시간 내 수집"}),a.jsxs("h2",{className:"text-3xl font-bold text-gray-900",children:[R.hourCount," ",a.jsx("span",{className:"text-lg text-gray-400 font-normal",children:"건"})]})]})]}),a.jsxs("div",{className:"bg-white p-6 rounded-xl border border-gray-200 shadow-sm flex items-center gap-5",children:[a.jsx("div",{className:"p-4 bg-purple-50 text-purple-600 rounded-lg",children:a.jsx(f,{className:"w-8 h-8"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-500 font-bold mb-1",children:"누적 수집 DB"}),a.jsxs("h2",{className:"text-3xl font-bold text-gray-900",children:[R.totalCount," ",a.jsx("span",{className:"text-lg text-gray-400 font-normal",children:"건"})]})]})]})]}),0===Object.keys(H).length?a.jsx("div",{className:"text-center py-20 bg-white rounded-xl border-dashed border-2 border-gray-300",children:a.jsx("p",{className:"text-gray-500",children:"수집된 데이터가 없습니다."})}):Object.entries(H).sort(([,e],[,s])=>{const t=e.length>0?C(e[0].Timestamp):0;return(s.length>0?C(s[0].Timestamp):0)-t}).map(([e,s])=>{const t=g.find(s=>String(s.id)===e),r=t?t.title:`알 수 없는 페이지 (ID: ${e})`,{columns:l}=((e,s)=>{var t;const a=g.find(s=>String(s.id)===e),r=[{key:"Timestamp",label:"시간"}],l=new Set(["Timestamp","Landing ID"]);if(null==(t=null==a?void 0:a.formConfig)?void 0:t.fields)a.formConfig.fields.forEach(e=>{r.push({key:e.id,label:e.label}),l.add(e.id),l.add(e.id.toLowerCase())});else if(s.length>0){const e=s[0];e.Name&&(r.push({key:"Name",label:"이름"}),l.add("Name")),e.Phone&&(r.push({key:"Phone",label:"연락처"}),l.add("Phone"))}const n=new Set;return s.forEach(e=>{Object.keys(e).forEach(e=>{l.has(e)||l.has(e.toLowerCase())||S.includes(e.toLowerCase())||e.startsWith("consent_")||n.add(e)})}),n.has("Memo")&&(n.delete("Memo"),r.push({key:"Memo",label:"메모"})),{columns:r,extraKeys:Array.from(n)}})(e,s),n=s.slice(0,5),d=!t;return a.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl shadow-sm overflow-hidden animate-fade-in-up",children:[a.jsxs("div",{className:"px-4 py-3 md:px-6 md:py-4 bg-gray-50 border-b border-gray-200 flex flex-col md:flex-row md:justify-between md:items-center gap-3 md:gap-0",children:[a.jsxs("div",{className:"flex items-start justify-between w-full md:w-auto md:justify-start gap-3",children:[a.jsxs("div",{className:"flex items-center gap-3 flex-1 min-w-0",children:[a.jsx("div",{className:"bg-white p-2 border border-gray-200 rounded-lg shrink-0",children:a.jsx(f,{className:"w-4 h-4 text-blue-600"})}),a.jsxs("div",{className:"min-w-0",children:[a.jsx("h3",{className:"font-bold text-gray-800 text-base md:text-lg truncate pr-2",children:r}),a.jsxs("p",{className:"text-xs text-gray-400 font-mono truncate",children:["ID: ",e]})]})]}),a.jsx("div",{className:"md:hidden shrink-0",children:a.jsxs("span",{className:"bg-blue-100 text-blue-700 px-2 py-1 rounded-full text-[10px] font-bold",children:["총 ",s.length,"건"]})})]}),a.jsxs("div",{className:"flex items-center justify-end gap-2 w-full md:w-auto",children:[a.jsxs("span",{className:"hidden md:inline-block bg-blue-100 text-blue-700 px-3 py-1 rounded-full text-xs font-bold mr-2",children:["총 ",s.length," 건"]}),a.jsxs("button",{onClick:()=>v(`/admin/stats/${e}`),className:"flex-1 md:flex-none justify-center items-center gap-1 text-xs md:text-sm font-bold text-gray-600 hover:text-blue-600 bg-white border border-gray-300 hover:border-blue-400 px-3 py-1.5 rounded-lg transition-all flex",children:["상세보기 ",a.jsx(u,{className:"w-3 h-3 md:w-4 md:h-4 rotate-180"})]}),a.jsx("button",{onClick:()=>(M(e),void B(1)),className:"p-1.5 md:p-2 text-gray-400 hover:text-red-600 hover:bg-red-50 rounded-lg transition-colors border border-transparent hover:border-red-200",title:d?"모든 데이터 삭제":"페이지 삭제",children:a.jsx(y,{className:"w-4 h-4"})})]})]}),a.jsx("div",{className:"hidden md:block overflow-x-auto",children:a.jsxs("table",{className:"w-full text-sm text-left",children:[a.jsx("thead",{className:"text-xs text-gray-500 uppercase bg-gray-50/50 border-b",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 w-12 font-medium",children:"No."}),l.slice(0,5).map(e=>a.jsx("th",{className:"px-6 py-3 font-medium text-gray-700",children:e.label},e.key)),l.length>5&&a.jsx("th",{className:"px-6 py-3 font-medium text-gray-400",children:"..."})]})}),a.jsxs("tbody",{className:"divide-y divide-gray-100",children:[n.map((e,t)=>a.jsxs("tr",{className:"hover:bg-blue-50/30 transition-colors",children:[a.jsx("td",{className:"px-6 py-4 text-gray-400 text-xs",children:s.length-t}),l.slice(0,5).map(s=>a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-gray-600",children:e[s.key]||e[s.key.toLowerCase()]||"-"},s.key)),l.length>5&&a.jsx("td",{className:"px-6 py-4 text-gray-300",children:"..."})]},t)),s.length>5&&a.jsx("tr",{children:a.jsx("td",{colSpan:l.slice(0,5).length+2,className:"px-6 py-3 text-center bg-gray-50/30",children:a.jsxs("button",{onClick:()=>v(`/admin/stats/${e}`),className:"text-xs font-bold text-blue-600 hover:underline",children:["+ ",s.length-5,"개 더보기"]})})})]})]})}),a.jsx("div",{className:"md:hidden",children:a.jsxs("div",{className:"divide-y divide-gray-100",children:[n.map((e,t)=>a.jsxs("div",{className:"p-4 bg-white hover:bg-gray-50 transition-colors",children:[a.jsxs("div",{className:"flex justify-between items-start mb-2",children:[a.jsxs("span",{className:"text-xs font-mono text-gray-400",children:["#",s.length-t]}),a.jsx("span",{className:"text-xs text-gray-500 bg-gray-100 px-2 py-0.5 rounded-full",children:e.Timestamp?e.Timestamp.split(" ")[1]:"-"})]}),a.jsx("div",{className:"space-y-1",children:l.slice(1,4).map(s=>a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-xs text-gray-500 w-16 truncate",children:s.label}),a.jsx("span",{className:`text-sm font-medium ${"Phone"===s.key?"text-blue-600":"text-gray-900"} text-right truncate flex-1`,children:e[s.key]||e[s.key.toLowerCase()]||"-"})]},s.key))})]},t)),s.length>5&&a.jsx("div",{className:"p-3 text-center bg-gray-50 border-t border-gray-100",children:a.jsxs("button",{onClick:()=>v(`/admin/stats/${e}`),className:"w-full py-2 text-sm font-bold text-blue-600 border border-blue-200 rounded-lg bg-blue-50 hover:bg-blue-100 transition-colors",children:["전체보기 (+",s.length-5,")"]})})]})})]},e)})]}),a.jsx(k,{isOpen:_,onClose:()=>D(!1),title:I,leads:T,landingTitles:V}),O&&$>0&&a.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm animate-fade-in",children:a.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl p-8 max-w-sm w-full mx-4",children:[a.jsx("div",{className:"w-12 h-12 bg-red-100 text-red-600 rounded-full flex items-center justify-center mb-4 mx-auto",children:a.jsx(y,{className:"w-6 h-6"})}),a.jsx("h3",{className:"text-xl font-bold text-center text-gray-900 mb-2",children:1===$?K?"해당 목록을 비우시겠습니까?":"페이지 설정을 삭제하시겠습니까?":"정말 삭제하시겠습니까?"}),a.jsx("p",{className:"text-center text-gray-500 mb-8 break-keep text-sm",children:1===$?K?a.jsxs(a.Fragment,{children:["해당 그룹의 ",a.jsxs("strong",{className:"text-red-500",children:["모든 DB(",null==(e=H[O])?void 0:e.length,"건)"]}),"가 삭제됩니다.",a.jsx("br",{}),"이 작업은 설정 파일과 무관하게 데이터만 삭제합니다."]}):a.jsxs(a.Fragment,{children:["랜딩페이지 설정이 목록에서 사라집니다.",a.jsx("br",{}),"(이미 수집된 DB는 보존되지만 '알 수 없는 페이지'로 분류됩니다.)"]}):a.jsxs(a.Fragment,{children:["삭제된 데이터는 ",a.jsx("strong",{className:"text-red-500",children:"복구할 수 없습니다."}),a.jsx("br",{}),"신중하게 결정해 주세요."]})}),a.jsxs("div",{className:"flex gap-3",children:[a.jsx("button",{onClick:()=>{B(0),M(null)},className:"flex-1 py-3 px-4 border border-gray-300 rounded-xl text-gray-700 font-bold hover:bg-gray-50 transition-colors",children:"취소"}),a.jsx("button",{onClick:async()=>{if(!O)return;if(1===$)return void B(2);z(!0);if(g.find(e=>String(e.id)===O)){await o(O)?(p(e=>e.filter(e=>String(e.id)!==O)),B(0),M(null)):alert("설정 삭제 실패")}else{const{deleteLeads:e}=await t(async()=>{const{deleteLeads:e}=await import("./googleSheetService-BhIcbKS7.js").then(e=>e.t);return{deleteLeads:e}},__vite__mapDeps([0,1,2,3,4,5])),s=H[O]||[];if(0===s.length)return B(0),M(null),void z(!1);const a=await e(s);"success"===a.result?(h(e=>e.filter(e=>String(e["Landing ID"]||"unknown")!==O)),B(0),M(null)):alert("데이터 삭제 실패: "+a.message)}z(!1)},disabled:P,className:"flex-1 py-3 px-4 bg-red-600 text-white rounded-xl font-bold hover:bg-red-700 transition-colors shadow-lg shadow-red-200 disabled:opacity-70 disabled:cursor-wait flex justify-center items-center",children:P?a.jsx(s,{className:"w-5 h-5 animate-spin"}):1===$?"계속하기":"삭제 확정"})]})]})})]})};export{_ as default};
