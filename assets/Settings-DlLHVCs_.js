import{j as e}from"./animation-BOIIKJnC.js";import{u as Ye,r as t}from"./vendor-B_BVtOF2.js";import{c as re,K as Ke,w as He,N as Qe,O as Ve,Q as Pe,R as We,i as d,j as A,V as K,e as g,U as Ze,W as Xe,Z as ze,$ as es,a0 as ss}from"./index-BVRFDOSp.js";import{A as as}from"./arrow-left-zfVOezu-.js";import{S as P}from"./save-D63buG45.js";import{P as rs,G as ts}from"./plus-erZd5UXz.js";import{T as ls}from"./trash-2-CrG2qZ-z.js";import{S as ns}from"./smartphone-Be2JNWrA.js";import{M as is}from"./monitor-DjUSqoop.js";import{L as os}from"./log-out-5aczzVO0.js";/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I=re("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ae=re("Key",[["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["path",{d:"m15.5 7.5 3 3L22 7l-3-3",key:"1rn1fs"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ds=re("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]),js=()=>{var Ne,ve,we,ke,Ce,Ae;const Ie=Ye(),[te,Ee]=t.useState([]),[Ue,le]=t.useState(!1),Te=Ke.getSessionId(),E=Ke.getUserEmail(),[ne,Ge]=t.useState([]),[Be,ie]=t.useState(!1),[U,oe]=t.useState(""),[de,ce]=t.useState(!1),[s,n]=t.useState(null),[w,L]=t.useState(""),[R,Fe]=t.useState(!1),[f,j]=t.useState(!1),[_,N]=t.useState(!1),[k,D]=t.useState(""),[C,q]=t.useState(""),[v,xe]=t.useState(!1),[me,ue]=t.useState(!1),[Me,be]=t.useState(!1),[T,J]=t.useState(""),[Y,$e]=t.useState(!1),[G,H]=t.useState(""),[Q,Se]=t.useState(!1),[he,ge]=t.useState(!1),[Oe,ye]=t.useState(!1),[B,V]=t.useState(!1),[F,W]=t.useState(!1),[M,Z]=t.useState(!1),[$,X]=t.useState(!1),pe=(s==null?void 0:s.imgbbApiKey)!==w,z=(s==null?void 0:s.cloudinaryCloudName)!==k||(s==null?void 0:s.cloudinaryUploadPreset)!==C,fe=(s==null?void 0:s.kakaoApiKey)!==T,je=(s==null?void 0:s.geminiApiKey)!==G,S=a=>{if(window.confirm(`⚠️ 주의: 기존 저장된 설정을 수정하시겠습니까?

잘못된 수정은 서비스에 문제를 일으킬 수 있습니다.`))switch(a){case"imgbb":V(!0);break;case"cloudinary":W(!0);break;case"kakao":Z(!0);break;case"gemini":X(!0);break}},O=a=>{if(s)switch(a){case"imgbb":L(s.imgbbApiKey||""),V(!1);break;case"cloudinary":D(s.cloudinaryCloudName||""),q(s.cloudinaryUploadPreset||""),W(!1);break;case"kakao":J(s.kakaoApiKey||""),Z(!1);break;case"gemini":H(s.geminiApiKey||""),X(!1);break}};t.useEffect(()=>{se(),ee(),Le()},[]);const Le=async()=>{const a=await He();a?(n(a),L(a.imgbbApiKey||""),D(a.cloudinaryCloudName||""),q(a.cloudinaryUploadPreset||""),J(a.kakaoApiKey||""),H(a.geminiApiKey||"")):n({})},Re=async()=>{if(!s||s.imgbbApiKey&&s.imgbbApiKey!==w&&!window.confirm(`⚠️ 주의: 기존 ImgBB API 키가 이미 설정되어 있습니다.

새 키로 교체하면 기존 키는 복구할 수 없습니다.
계속하시겠습니까?`))return;j(!0);const a={...s,imgbbApiKey:w};await g(a),n(a),j(!1),N(!0),setTimeout(()=>N(!1),2e3)},_e=async()=>{if(!s||(s.cloudinaryCloudName||s.cloudinaryUploadPreset)&&(s.cloudinaryCloudName!==k||s.cloudinaryUploadPreset!==C)&&!window.confirm(`⚠️ 주의: 기존 Cloudinary 설정이 이미 존재합니다.

새 설정으로 교체하면 기존 설정은 복구할 수 없습니다.
계속하시겠습니까?`))return;ue(!0);const a={...s,cloudinaryCloudName:k,cloudinaryUploadPreset:C};await g(a),n(a),ue(!1),be(!0),setTimeout(()=>be(!1),2e3)},ee=async()=>{ie(!0);const a=await Qe();Ge(a),ie(!1)},De=async a=>{a.preventDefault(),U&&confirm(`${U} 님을 관리자로 추가하시겠습니까?`)&&(ce(!0),await ze(U),setTimeout(async()=>{await ee(),ce(!1),oe(""),alert("초대 요청을 보냈습니다. (잠시 후 목록에 나타나지 않으면 권한 설정을 확인하세요)")},1500))},qe=async a=>{confirm(`${a} 님의 관리자 권한을 삭제하시겠습니까?`)&&(await es(a),setTimeout(()=>{ee(),alert("삭제 요청을 보냈습니다.")},1e3))},se=async()=>{le(!0);const a=await Ve();Ee(a),le(!1)},Je=async a=>{if(!confirm("정말로 이 기기를 로그아웃 시키겠습니까?"))return;await ss(a)?(alert("로그아웃 처리되었습니다."),se()):alert("처리에 실패했습니다.")};return e.jsxs("div",{className:"min-h-screen bg-gray-50 font-sans pb-20",children:[e.jsx("header",{className:"bg-white border-b border-gray-200 px-8 py-5 flex items-center justify-between sticky top-0 z-10",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("button",{onClick:()=>Ie("/admin"),className:"p-2 hover:bg-gray-100 rounded-full",children:e.jsx(as,{className:"w-5 h-5 text-gray-600"})}),e.jsx("h1",{className:"text-xl font-bold",children:"마이페이지 (설정)"})]})}),e.jsxs("main",{className:"max-w-2xl mx-auto p-8 space-y-8",children:[e.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl shadow-sm p-8",children:[e.jsxs("h2",{className:"text-lg font-bold mb-6 flex items-center gap-2",children:[e.jsx(Pe,{className:"w-5 h-5 text-blue-600"}),"관리자 계정 정보"]}),e.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-8 text-sm text-blue-800",children:[e.jsx("strong",{className:"block mb-1",children:"Google 계정 연동됨"}),"현재 ",e.jsx("strong",{children:"Google Sign-In"}),"을 통해 로그인되어 있습니다.",e.jsx("br",{}),"비밀번호나 계정 정보 변경은 구글 계정 설정에서 가능합니다."]}),e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:"현재 로그인된 이메일"}),e.jsxs("div",{className:"relative",children:[e.jsx(We,{className:"absolute left-3 top-3 w-5 h-5 text-gray-400"}),e.jsx("input",{type:"email",value:E||"알 수 없음",readOnly:!0,className:"w-full pl-10 px-4 py-3 rounded-lg border border-gray-300 bg-gray-100 text-gray-600 outline-none"})]})]})})]}),e.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl shadow-sm p-8",children:[e.jsxs("h2",{className:"text-lg font-bold mb-6 flex items-center gap-2",children:[e.jsx(ae,{className:"w-5 h-5 text-amber-600"}),"이미지 호스팅 설정"]}),e.jsxs("div",{className:"bg-amber-50 border border-amber-200 rounded-lg p-4 mb-6 text-sm text-amber-800",children:[e.jsx("strong",{className:"block mb-1",children:"ImgBB API Key"}),"대용량 이미지 업로드에 필요합니다. ",e.jsx("a",{href:"https://api.imgbb.com/",target:"_blank",rel:"noopener noreferrer",className:"underline font-bold",children:"api.imgbb.com"}),"에서 무료로 발급받을 수 있습니다."]}),e.jsx("div",{className:"space-y-4",children:e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-bold text-gray-700 mb-2 flex items-center gap-2",children:["API Key",(s==null?void 0:s.imgbbApiKey)&&!B&&e.jsxs("span",{className:"px-2 py-0.5 bg-green-100 text-green-700 text-xs rounded-full flex items-center gap-1",children:[e.jsx(d,{className:"w-3 h-3"}),"저장됨"]}),B&&pe&&e.jsxs("span",{className:"px-2 py-0.5 bg-amber-100 text-amber-700 text-xs rounded-full flex items-center gap-1",children:[e.jsx(A,{className:"w-3 h-3"}),"변경사항 있음"]})]}),s!=null&&s.imgbbApiKey&&!B?e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"relative",children:[e.jsx(ae,{className:"absolute left-3 top-3 w-5 h-5 text-gray-400"}),e.jsx("input",{type:"password",value:w,readOnly:!0,className:"w-full pl-10 pr-12 py-3 rounded-lg border border-gray-200 bg-gray-100 text-gray-600 cursor-not-allowed"}),e.jsx("div",{className:"absolute right-3 top-3 text-green-600",children:e.jsx(d,{className:"w-5 h-5"})})]}),e.jsx("button",{onClick:()=>S("imgbb"),className:"px-4 py-2 bg-gray-100 text-gray-700 rounded-lg font-medium hover:bg-gray-200 border border-gray-300 text-sm",children:"수정하기"})]}):e.jsxs("div",{className:"flex gap-2",children:[e.jsxs("div",{className:"relative flex-1",children:[e.jsx(ae,{className:"absolute left-3 top-3 w-5 h-5 text-gray-400"}),e.jsx("input",{type:R?"text":"password",value:w,onChange:a=>L(a.target.value),placeholder:"ImgBB API Key 입력",className:`w-full pl-10 pr-12 py-3 rounded-lg border focus:ring-2 focus:ring-amber-500 outline-none ${pe?"border-amber-400 bg-amber-50":"border-gray-300"}`}),e.jsx("button",{type:"button",onClick:()=>Fe(!R),className:"absolute right-3 top-3 text-gray-400 hover:text-gray-600",children:R?e.jsx(I,{className:"w-5 h-5"}):e.jsx(K,{className:"w-5 h-5"})})]}),(s==null?void 0:s.imgbbApiKey)&&B&&e.jsx("button",{onClick:()=>O("imgbb"),className:"px-3 py-3 bg-gray-100 text-gray-600 rounded-lg font-medium hover:bg-gray-200 border border-gray-300",children:"취소"}),e.jsx("button",{onClick:async()=>{await Re(),V(!1)},disabled:f||!s,className:"px-4 py-3 bg-amber-600 text-white rounded-lg font-bold hover:bg-amber-700 disabled:opacity-50 flex items-center gap-2",children:f?"저장 중...":_?e.jsxs(e.Fragment,{children:[e.jsx(d,{className:"w-4 h-4"})," 저장됨"]}):e.jsxs(e.Fragment,{children:[e.jsx(P,{className:"w-4 h-4"})," 저장"]})})]})]})}),e.jsxs("div",{className:"border-t border-gray-200 pt-6 mt-6",children:[e.jsxs("div",{className:"bg-orange-50 border border-orange-200 rounded-lg p-4 mb-6 text-sm text-orange-800",children:[e.jsx("strong",{className:"block mb-1",children:"Cloudinary (빠른 CDN)"}),"고속 글로벌 CDN과 이미지 갤러리 기능. ",e.jsx("a",{href:"https://cloudinary.com/",target:"_blank",rel:"noopener noreferrer",className:"underline font-bold",children:"cloudinary.com"}),"에서 무료 가입 후 설정하세요."]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("label",{className:"block text-sm font-bold text-gray-700 mb-2 flex items-center gap-2",children:["Cloudinary 설정",((s==null?void 0:s.cloudinaryCloudName)||(s==null?void 0:s.cloudinaryUploadPreset))&&!F&&e.jsxs("span",{className:"px-2 py-0.5 bg-green-100 text-green-700 text-xs rounded-full flex items-center gap-1",children:[e.jsx(d,{className:"w-3 h-3"}),"저장됨"]}),F&&z&&e.jsxs("span",{className:"px-2 py-0.5 bg-amber-100 text-amber-700 text-xs rounded-full flex items-center gap-1",children:[e.jsx(A,{className:"w-3 h-3"}),"변경사항 있음"]})]}),(s!=null&&s.cloudinaryCloudName||s!=null&&s.cloudinaryUploadPreset)&&!F?e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-xs text-gray-500 block mb-1",children:"Cloud Name"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"password",value:k,readOnly:!0,className:"w-full px-4 py-3 pr-12 rounded-lg border border-gray-200 bg-gray-100 text-gray-600 cursor-not-allowed"}),e.jsx("div",{className:"absolute right-3 top-3 text-green-600",children:e.jsx(d,{className:"w-5 h-5"})})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-xs text-gray-500 block mb-1",children:"Upload Preset"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"password",value:C,readOnly:!0,className:"w-full px-4 py-3 pr-12 rounded-lg border border-gray-200 bg-gray-100 text-gray-600 cursor-not-allowed"}),e.jsx("div",{className:"absolute right-3 top-3 text-green-600",children:e.jsx(d,{className:"w-5 h-5"})})]})]}),e.jsx("button",{onClick:()=>S("cloudinary"),className:"px-4 py-2 bg-gray-100 text-gray-700 rounded-lg font-medium hover:bg-gray-200 border border-gray-300 text-sm",children:"수정하기"})]}):e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-xs text-gray-500 block mb-1",children:"Cloud Name"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:v?"text":"password",value:k,onChange:a=>D(a.target.value),placeholder:"예: my-cloud-name",className:`w-full px-4 py-3 pr-12 rounded-lg border focus:ring-2 focus:ring-orange-500 outline-none ${z?"border-orange-400 bg-orange-50":"border-gray-300"}`}),e.jsx("button",{type:"button",onClick:()=>xe(!v),className:"absolute right-3 top-3 text-gray-400 hover:text-gray-600",children:v?e.jsx(I,{className:"w-5 h-5"}):e.jsx(K,{className:"w-5 h-5"})})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-xs text-gray-500 block mb-1",children:"Upload Preset (Unsigned)"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:v?"text":"password",value:C,onChange:a=>q(a.target.value),placeholder:"예: landing_unsigned",className:`w-full px-4 py-3 pr-12 rounded-lg border focus:ring-2 focus:ring-orange-500 outline-none ${z?"border-orange-400 bg-orange-50":"border-gray-300"}`}),e.jsx("button",{type:"button",onClick:()=>xe(!v),className:"absolute right-3 top-3 text-gray-400 hover:text-gray-600",children:v?e.jsx(I,{className:"w-5 h-5"}):e.jsx(K,{className:"w-5 h-5"})})]}),e.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Cloudinary 대시보드 → Settings → Upload → Upload Presets에서 생성 (Unsigned 모드)"})]}),e.jsxs("div",{className:"flex gap-2",children:[((s==null?void 0:s.cloudinaryCloudName)||(s==null?void 0:s.cloudinaryUploadPreset))&&F&&e.jsx("button",{onClick:()=>O("cloudinary"),className:"px-3 py-3 bg-gray-100 text-gray-600 rounded-lg font-medium hover:bg-gray-200 border border-gray-300",children:"취소"}),e.jsx("button",{onClick:async()=>{await _e(),W(!1)},disabled:me||!s,className:"px-4 py-3 bg-orange-600 text-white rounded-lg font-bold hover:bg-orange-700 disabled:opacity-50 flex items-center gap-2",children:me?"저장 중...":Me?e.jsxs(e.Fragment,{children:[e.jsx(d,{className:"w-4 h-4"})," 저장됨"]}):e.jsxs(e.Fragment,{children:[e.jsx(P,{className:"w-4 h-4"})," 저장"]})})]})]})]})]}),e.jsxs("div",{className:"border-t border-gray-200 pt-6 mt-6",children:[e.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4 mb-6 text-sm text-yellow-800",children:[e.jsx("strong",{className:"block mb-1",children:"Kakao Map API Key"}),"지도 표시 및 위치 서비스에 필요합니다. ",e.jsx("a",{href:"https://developers.kakao.com/",target:"_blank",rel:"noopener noreferrer",className:"underline font-bold",children:"Kakao Developers"}),"에서 JavaScript 키를 발급받으세요."]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("label",{className:"block text-sm font-bold text-gray-700 mb-2 flex items-center gap-2",children:["Kakao JavaScript API Key",(s==null?void 0:s.kakaoApiKey)&&!M&&e.jsxs("span",{className:"px-2 py-0.5 bg-green-100 text-green-700 text-xs rounded-full flex items-center gap-1",children:[e.jsx(d,{className:"w-3 h-3"}),"저장됨"]}),M&&fe&&e.jsxs("span",{className:"px-2 py-0.5 bg-amber-100 text-amber-700 text-xs rounded-full flex items-center gap-1",children:[e.jsx(A,{className:"w-3 h-3"}),"변경사항 있음"]})]}),s!=null&&s.kakaoApiKey&&!M?e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"password",value:T,readOnly:!0,className:"w-full px-4 py-3 pr-12 rounded-lg border border-gray-200 bg-gray-100 text-gray-600 cursor-not-allowed"}),e.jsx("div",{className:"absolute right-3 top-3 text-green-600",children:e.jsx(d,{className:"w-5 h-5"})})]}),e.jsx("button",{onClick:()=>S("kakao"),className:"px-4 py-2 bg-gray-100 text-gray-700 rounded-lg font-medium hover:bg-gray-200 border border-gray-300 text-sm",children:"수정하기"})]}):e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:Y?"text":"password",value:T,onChange:a=>J(a.target.value),placeholder:"Kakao JavaScript App Key",className:`w-full px-4 py-3 pr-12 rounded-lg border focus:ring-2 focus:ring-yellow-500 outline-none ${fe?"border-yellow-400 bg-yellow-50":"border-gray-300"}`}),e.jsx("button",{type:"button",onClick:()=>$e(!Y),className:"absolute right-3 top-3 text-gray-400 hover:text-gray-600",children:Y?e.jsx(I,{className:"w-5 h-5"}):e.jsx(K,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"flex gap-2",children:[(s==null?void 0:s.kakaoApiKey)&&M&&e.jsx("button",{onClick:()=>O("kakao"),className:"px-3 py-3 bg-gray-100 text-gray-600 rounded-lg font-medium hover:bg-gray-200 border border-gray-300",children:"취소"}),e.jsx("button",{onClick:async()=>{j(!0);const r={...s||{},kakaoApiKey:T};await g(r),n(r),j(!1),N(!0),Z(!1),setTimeout(()=>N(!1),2e3)},disabled:f,className:"px-4 py-3 bg-yellow-400 text-black hover:bg-yellow-500 rounded-lg font-bold disabled:opacity-50 flex items-center gap-2",children:f?"저장 중...":_?e.jsxs(e.Fragment,{children:[e.jsx(d,{className:"w-4 h-4"})," 저장됨"]}):e.jsxs(e.Fragment,{children:[e.jsx(P,{className:"w-4 h-4"})," 저장"]})})]})]})]})]}),e.jsxs("div",{className:"border-t border-gray-200 pt-6 mt-6",children:[e.jsxs("div",{className:"bg-purple-50 border border-purple-200 rounded-lg p-4 mb-6 text-sm text-purple-800",children:[e.jsx("strong",{className:"block mb-1",children:"Gemini API (AI 챗봇)"}),"AI 변제금 진단 챗봇에 필요합니다. ",e.jsx("a",{href:"https://aistudio.google.com/apikey",target:"_blank",rel:"noopener noreferrer",className:"underline font-bold",children:"Google AI Studio"}),"에서 무료로 발급받을 수 있습니다."]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("label",{className:"block text-sm font-bold text-gray-700 mb-2 flex items-center gap-2",children:["Gemini API Key",(s==null?void 0:s.geminiApiKey)&&!$&&e.jsxs("span",{className:"px-2 py-0.5 bg-green-100 text-green-700 text-xs rounded-full flex items-center gap-1",children:[e.jsx(d,{className:"w-3 h-3"}),"저장됨"]}),$&&je&&e.jsxs("span",{className:"px-2 py-0.5 bg-amber-100 text-amber-700 text-xs rounded-full flex items-center gap-1",children:[e.jsx(A,{className:"w-3 h-3"}),"변경사항 있음"]})]}),s!=null&&s.geminiApiKey&&!$?e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"password",value:G,readOnly:!0,className:"w-full px-4 py-3 pr-12 rounded-lg border border-gray-200 bg-gray-100 text-gray-600 cursor-not-allowed"}),e.jsx("div",{className:"absolute right-3 top-3 text-green-600",children:e.jsx(d,{className:"w-5 h-5"})})]}),e.jsx("button",{onClick:()=>S("gemini"),className:"px-4 py-2 bg-gray-100 text-gray-700 rounded-lg font-medium hover:bg-gray-200 border border-gray-300 text-sm",children:"수정하기"})]}):e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:Q?"text":"password",value:G,onChange:a=>H(a.target.value),placeholder:"AIza...",className:`w-full px-4 py-3 pr-12 rounded-lg border focus:ring-2 focus:ring-purple-500 outline-none ${je?"border-purple-400 bg-purple-50":"border-gray-300"}`}),e.jsx("button",{type:"button",onClick:()=>Se(!Q),className:"absolute right-3 top-3 text-gray-400 hover:text-gray-600",children:Q?e.jsx(I,{className:"w-5 h-5"}):e.jsx(K,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"flex gap-2",children:[(s==null?void 0:s.geminiApiKey)&&$&&e.jsx("button",{onClick:()=>O("gemini"),className:"px-3 py-3 bg-gray-100 text-gray-600 rounded-lg font-medium hover:bg-gray-200 border border-gray-300",children:"취소"}),e.jsx("button",{onClick:async()=>{if(!s)return;ge(!0);const a={...s,geminiApiKey:G};await g(a),n(a),ge(!1),ye(!0),X(!1),setTimeout(()=>ye(!1),2e3)},disabled:he||!s,className:"px-4 py-3 bg-purple-600 text-white rounded-lg font-bold hover:bg-purple-700 disabled:opacity-50 flex items-center gap-2",children:he?"저장 중...":Oe?e.jsxs(e.Fragment,{children:[e.jsx(d,{className:"w-4 h-4"})," 저장됨"]}):e.jsxs(e.Fragment,{children:[e.jsx(P,{className:"w-4 h-4"})," 저장"]})})]})]})]})]}),e.jsxs("div",{className:"border-t border-gray-200 pt-6 mt-6",children:[e.jsxs("div",{className:"bg-gradient-to-r from-pink-50 to-purple-50 border border-pink-200 rounded-lg p-4 mb-6 text-sm text-pink-800",children:[e.jsx("strong",{className:"block mb-1",children:"Interactive Block (폼-혼합형)"}),"AI 챗봇에서 날짜 선택, 연락처 입력, 다중 선택 등의 고급 폼 UI를 활성화합니다."]}),e.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg border border-gray-200",children:[e.jsxs("div",{children:[e.jsx("div",{className:"font-bold text-gray-800",children:"Interactive Block 활성화"}),e.jsx("div",{className:"text-sm text-gray-500",children:"모든 챗봇 템플릿에서 폼 블록 UI 사용"})]}),e.jsx("button",{onClick:async()=>{if(!s)return;const a=s.rehabChatConfig||{isEnabled:!0,displayMode:"floating",buttonText:"AI 변제금 확인"},r={...a,enableFormBlocks:!a.enableFormBlocks},o={...s,rehabChatConfig:r};await g(o),n(o)},className:`relative w-14 h-7 rounded-full transition-colors ${(Ne=s==null?void 0:s.rehabChatConfig)!=null&&Ne.enableFormBlocks?"bg-gradient-to-r from-pink-500 to-purple-500":"bg-gray-300"}`,children:e.jsx("div",{className:`absolute top-1 w-5 h-5 bg-white rounded-full shadow transition-transform ${(ve=s==null?void 0:s.rehabChatConfig)!=null&&ve.enableFormBlocks?"translate-x-8":"translate-x-1"}`})})]}),((we=s==null?void 0:s.rehabChatConfig)==null?void 0:we.enableFormBlocks)&&e.jsxs("div",{className:"mt-4 space-y-4",children:[e.jsx("label",{className:"block text-sm font-bold text-gray-700",children:"프리셋 선택"}),e.jsx("div",{className:"grid grid-cols-2 gap-3",children:[{value:"none",label:"없음",desc:"비활성화"},{value:"basic",label:"기본",desc:"연락처 폼만"},{value:"advanced",label:"고급",desc:"모든 블록"},{value:"custom",label:"사용자 정의",desc:"직접 선택"}].map(a=>{var r;return e.jsxs("button",{onClick:async()=>{if(!s)return;const c={...s.rehabChatConfig||{isEnabled:!0,displayMode:"floating",buttonText:"AI 변제금 확인"},interactiveBlockPreset:a.value},i={...s,rehabChatConfig:c};await g(i),n(i)},className:`p-3 rounded-lg border-2 text-left transition-all ${((r=s==null?void 0:s.rehabChatConfig)==null?void 0:r.interactiveBlockPreset)===a.value?"border-purple-500 bg-purple-50":"border-gray-200 hover:border-gray-300"}`,children:[e.jsx("div",{className:"font-bold text-gray-800",children:a.label}),e.jsx("div",{className:"text-xs text-gray-500",children:a.desc})]},a.value)})}),((ke=s==null?void 0:s.rehabChatConfig)==null?void 0:ke.interactiveBlockPreset)==="custom"&&e.jsxs("div",{className:"mt-4 p-4 bg-gray-50 rounded-lg border border-gray-200 space-y-3",children:[e.jsx("div",{className:"text-sm font-bold text-gray-700",children:"세부 설정"}),[{key:"useContactForm",label:"연락처 폼 블록",desc:"이름/전화 입력을 폼으로"},{key:"useMultiSelect",label:"다중 선택 블록",desc:"재산 선택 시 체크박스 UI"},{key:"useDatePicker",label:"날짜 선택기",desc:"날짜 질문에 캘린더 UI"}].map(a=>{var r,o;return e.jsxs("label",{className:"flex items-center justify-between p-2 bg-white rounded border",children:[e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-gray-800 text-sm",children:a.label}),e.jsx("div",{className:"text-xs text-gray-500",children:a.desc})]}),e.jsx("input",{type:"checkbox",checked:((o=(r=s==null?void 0:s.rehabChatConfig)==null?void 0:r.interactiveBlockConfig)==null?void 0:o[a.key])||!1,onChange:async c=>{if(!s)return;const i=s.rehabChatConfig||{isEnabled:!0,displayMode:"floating",buttonText:"AI 변제금 확인"},h={...i,interactiveBlockConfig:{...i.interactiveBlockConfig||{},[a.key]:c.target.checked}},x={...s,rehabChatConfig:h};await g(x),n(x)},className:"w-5 h-5 text-purple-600 rounded"})]},a.key)})]})]})]}),e.jsxs("div",{className:"border-t border-gray-200 pt-6 mt-6",children:[e.jsxs("div",{className:"bg-indigo-50 border border-indigo-200 rounded-lg p-4 mb-6 text-sm text-indigo-800",children:[e.jsxs("strong",{className:"block mb-1",children:["2026년 개인회생 계산 정책 ",e.jsx("span",{className:"text-xs font-normal text-indigo-400",children:"(v2026.01.14.R1)"})]}),"AI 변제금 진단에 사용되는 중위소득, 생계비율, 보증금 공제 등을 설정합니다."]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:"기준년도"}),e.jsx("input",{type:"number",value:((Ce=s==null?void 0:s.rehabPolicyConfig)==null?void 0:Ce.baseYear)||2026,onChange:a=>n(r=>r?{...r,rehabPolicyConfig:{...r.rehabPolicyConfig,baseYear:parseInt(a.target.value)}}:null),className:"w-full px-4 py-3 rounded-lg border border-gray-300 focus:ring-2 focus:ring-indigo-500 outline-none"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:"생계비 인정률"}),e.jsxs("select",{value:(((Ae=s==null?void 0:s.rehabPolicyConfig)==null?void 0:Ae.livingCostRate)||.6)*100,onChange:a=>n(r=>r?{...r,rehabPolicyConfig:{...r.rehabPolicyConfig,livingCostRate:parseInt(a.target.value)/100}}:null),className:"w-full px-4 py-3 rounded-lg border border-gray-300 focus:ring-2 focus:ring-indigo-500 outline-none",children:[e.jsx("option",{value:"50",children:"50%"}),e.jsx("option",{value:"60",children:"60% (기본)"}),e.jsx("option",{value:"70",children:"70%"})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:"가구원수별 중위소득 (원)"}),e.jsx("div",{className:"grid grid-cols-3 gap-2",children:[1,2,3,4,5,6].map(a=>{var r,o;return e.jsxs("div",{className:"bg-gray-50 rounded-lg p-2",children:[e.jsxs("label",{className:"text-xs text-gray-500 block",children:[a,"인 가구"]}),e.jsx("input",{type:"number",value:((o=(r=s==null?void 0:s.rehabPolicyConfig)==null?void 0:r.medianIncome)==null?void 0:o[a])||0,onChange:c=>{n(i=>{var x;if(!i)return null;const h={...((x=i.rehabPolicyConfig)==null?void 0:x.medianIncome)||{},[a]:parseInt(c.target.value)};return{...i,rehabPolicyConfig:{...i.rehabPolicyConfig,medianIncome:h}}})},className:"w-full px-2 py-1.5 rounded border border-gray-300 text-sm",placeholder:"0"})]},a)})})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:"지역별 보증금 공제 (원)"}),e.jsx("div",{className:"space-y-2",children:[{key:"Seoul",label:"서울"},{key:"Overcrowded",label:"과밀억제권역"},{key:"Metro",label:"광역시"},{key:"Others",label:"기타 지역"}].map(a=>{var r,o,c,i,h,x;return e.jsxs("div",{className:"grid grid-cols-3 gap-2 items-center bg-gray-50 p-2 rounded",children:[e.jsx("span",{className:"text-sm font-medium",children:a.label}),e.jsx("input",{type:"number",value:((c=(o=(r=s==null?void 0:s.rehabPolicyConfig)==null?void 0:r.depositExemptions)==null?void 0:o[a.key])==null?void 0:c.limit)||0,onChange:y=>{n(l=>{var m,u,b;if(!l)return null;const p={...((m=l.rehabPolicyConfig)==null?void 0:m.depositExemptions)||{},[a.key]:{...((b=(u=l.rehabPolicyConfig)==null?void 0:u.depositExemptions)==null?void 0:b[a.key])||{},limit:parseInt(y.target.value)}};return{...l,rehabPolicyConfig:{...l.rehabPolicyConfig,depositExemptions:p}}})},className:"px-2 py-1 rounded border text-sm",placeholder:"한도"}),e.jsx("input",{type:"number",value:((x=(h=(i=s==null?void 0:s.rehabPolicyConfig)==null?void 0:i.depositExemptions)==null?void 0:h[a.key])==null?void 0:x.deduct)||0,onChange:y=>{n(l=>{var m,u,b;if(!l)return null;const p={...((m=l.rehabPolicyConfig)==null?void 0:m.depositExemptions)||{},[a.key]:{...((b=(u=l.rehabPolicyConfig)==null?void 0:u.depositExemptions)==null?void 0:b[a.key])||{},deduct:parseInt(y.target.value)}};return{...l,rehabPolicyConfig:{...l.rehabPolicyConfig,depositExemptions:p}}})},className:"px-2 py-1 rounded border text-sm",placeholder:"공제액"})]},a.key)})})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:"법원별 성향"}),e.jsx("div",{className:"space-y-2 max-h-64 overflow-y-auto",children:["서울회생법원","수원회생법원","인천회생법원","대전회생법원","대구회생법원","부산회생법원","광주회생법원"].map(a=>{var r,o,c,i,h,x;return e.jsxs("div",{className:"bg-gray-50 p-3 rounded border",children:[e.jsx("div",{className:"font-medium text-sm mb-2",children:a}),e.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[e.jsxs("label",{className:"flex items-center gap-2 text-xs",children:[e.jsx("input",{type:"checkbox",checked:((c=(o=(r=s==null?void 0:s.rehabPolicyConfig)==null?void 0:r.courtTraits)==null?void 0:o[a])==null?void 0:c.allow24Months)||!1,onChange:y=>{n(l=>{var m,u,b;if(!l)return null;const p={...((m=l.rehabPolicyConfig)==null?void 0:m.courtTraits)||{},[a]:{...((b=(u=l.rehabPolicyConfig)==null?void 0:u.courtTraits)==null?void 0:b[a])||{name:a},allow24Months:y.target.checked}};return{...l,rehabPolicyConfig:{...l.rehabPolicyConfig,courtTraits:p}}})}}),"24개월 단축 가능"]}),e.jsxs("div",{className:"flex items-center gap-1 text-xs",children:["배우자 재산 반영률:",e.jsxs("select",{value:(((x=(h=(i=s==null?void 0:s.rehabPolicyConfig)==null?void 0:i.courtTraits)==null?void 0:h[a])==null?void 0:x.spousePropertyRate)||0)*100,onChange:y=>{n(l=>{var m,u,b;if(!l)return null;const p={...((m=l.rehabPolicyConfig)==null?void 0:m.courtTraits)||{},[a]:{...((b=(u=l.rehabPolicyConfig)==null?void 0:u.courtTraits)==null?void 0:b[a])||{name:a},spousePropertyRate:parseInt(y.target.value)/100}};return{...l,rehabPolicyConfig:{...l.rehabPolicyConfig,courtTraits:p}}})},className:"border rounded px-1 py-0.5 text-xs",children:[e.jsx("option",{value:"0",children:"0%"}),e.jsx("option",{value:"50",children:"50%"}),e.jsx("option",{value:"100",children:"100%"})]})]})]})]},a)})})]}),e.jsx("button",{onClick:async()=>{s&&(j(!0),await g(s),j(!1),N(!0),setTimeout(()=>N(!1),2e3))},disabled:f||!s,className:"px-4 py-3 bg-indigo-600 text-white rounded-lg font-bold hover:bg-indigo-700 disabled:opacity-50 flex items-center gap-2",children:f?"저장 중...":_?e.jsxs(e.Fragment,{children:[e.jsx(d,{className:"w-4 h-4"})," 저장됨"]}):e.jsxs(e.Fragment,{children:[e.jsx(P,{className:"w-4 h-4"})," 정책 설정 저장"]})})]})]})]}),E==="beanhull@gmail.com"?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl shadow-sm p-8",children:[e.jsxs("h2",{className:"text-lg font-bold mb-6 flex items-center gap-2",children:[e.jsx(ds,{className:"w-5 h-5 text-purple-600"}),"관리자 권한 관리"]}),e.jsx("div",{className:"mb-6",children:e.jsxs("form",{onSubmit:De,className:"flex gap-2",children:[e.jsx("input",{type:"email",placeholder:"추가할 관리자의 Gmail 입력",value:U,onChange:a=>oe(a.target.value),className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 outline-none",required:!0}),e.jsx("button",{type:"submit",disabled:de,className:"bg-purple-600 text-white px-4 py-2 rounded-lg font-bold hover:bg-purple-700 disabled:opacity-50 flex items-center",children:de?"추가 중...":e.jsxs(e.Fragment,{children:[e.jsx(rs,{className:"w-4 h-4 mr-1"})," 추가"]})})]})}),e.jsx("div",{className:"space-y-3",children:Be?e.jsx("p",{className:"text-gray-500 text-center py-4",children:"목록 불러오는 중..."}):ne.length===0?e.jsx("p",{className:"text-gray-400 text-center py-4",children:"등록된 관리자가 없습니다. (오류)"}):ne.map((a,r)=>e.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg border border-gray-100",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-white rounded-full border border-gray-200",children:e.jsx(Ze,{className:"w-4 h-4 text-gray-500"})}),e.jsxs("div",{children:[e.jsx("div",{className:"font-bold text-gray-800 text-sm",children:a.email}),e.jsxs("div",{className:"text-xs text-gray-500",children:[a.name," ",a.memo?`(${a.memo})`:""]})]})]}),a.email!==E&&e.jsx("button",{onClick:()=>qe(a.email),className:"p-2 text-gray-400 hover:text-red-600 hover:bg-red-50 rounded-lg transition-colors",title:"권한 삭제",children:e.jsx(ls,{className:"w-4 h-4"})}),a.email===E&&e.jsx("span",{className:"text-xs text-blue-600 font-bold bg-blue-50 px-2 py-1 rounded",children:"본인"})]},r))})]}),e.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl shadow-sm p-8",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("h2",{className:"text-lg font-bold flex items-center gap-2",children:[e.jsx(Xe,{className:"w-5 h-5 text-green-600"}),"기기 접속 현황"]}),e.jsx("button",{onClick:se,className:"text-sm text-gray-500 hover:text-gray-900 underline",children:"새로고침"})]}),e.jsx("div",{className:"space-y-4",children:Ue?e.jsx("p",{className:"text-center text-gray-500 py-4",children:"활동 기록을 불러오는 중..."}):te.length===0?e.jsxs("div",{className:"text-center py-6 bg-gray-50 rounded-lg text-gray-500 text-sm",children:[e.jsx(A,{className:"w-8 h-8 mx-auto mb-2 text-gray-400"}),"기록된 로그인 활동이 없습니다."]}):te.map(a=>{const r=a.session_id===Te;return e.jsxs("div",{className:`flex items-center justify-between p-4 rounded-lg border ${r?"bg-blue-50 border-blue-200":"bg-white border-gray-200"}`,children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:`p-2 rounded-full ${r?"bg-blue-100 text-blue-600":"bg-gray-100 text-gray-500"}`,children:a.device.toLowerCase().includes("phone")||a.device.toLowerCase().includes("mobile")?e.jsx(ns,{className:"w-5 h-5"}):e.jsx(is,{className:"w-5 h-5"})}),e.jsxs("div",{children:[e.jsxs("div",{className:"font-bold text-gray-900 text-sm flex items-center gap-2",children:[a.device,r&&e.jsx("span",{className:"bg-blue-600 text-white text-[10px] px-1.5 py-0.5 rounded-full",children:"현재 기기"})]}),e.jsxs("div",{className:"text-xs text-gray-500 flex items-center gap-2 mt-0.5",children:[e.jsx(ts,{className:"w-3 h-3"})," ",a.ip,e.jsx("span",{className:"text-gray-300",children:"|"}),a.timestamp]})]})]}),!r&&e.jsxs("button",{onClick:()=>Je(a.session_id),className:"text-xs bg-white border border-gray-300 text-gray-700 px-3 py-1.5 rounded hover:bg-gray-50 hover:text-red-600 hover:border-red-200 transition-colors flex items-center",children:[e.jsx(os,{className:"w-3 h-3 mr-1"}),"로그아웃"]})]},a.session_id)})})]})]}):e.jsxs("div",{className:"bg-gray-100 border border-gray-200 rounded-xl p-8 text-center text-gray-500",children:[e.jsx(Pe,{className:"w-8 h-8 mx-auto mb-2 text-gray-400"}),e.jsx("h3",{className:"text-lg font-bold text-gray-700",children:"관리자 권한 제한"}),e.jsxs("p",{className:"text-sm mt-1",children:["관리자 추가/삭제 및 기기 관리는",e.jsx("br",{}),e.jsx("strong",{children:"최고 관리자(beanhull@gmail.com)"}),"만 가능합니다."]})]})]})]})};export{js as default};
